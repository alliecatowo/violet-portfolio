import{a9 as z,y as L,Q as V,af as w,B as y,h as a,w as f,c,d as u,f as n,n as d,C as h,aj as x,t as _,F as S,S as q,ak as F,D as H,E as s,P as I,z as M,q as Q,aI as $,aL as T,aM as J,aN as K,aJ as C,aK as P,e as m,aQ as O,bx as G,ax as W}from"#entry";import{_ as X}from"./CGv3pceX.js";import{_ as Y}from"./C8B5X39K.js";import{_ as Z}from"./DeVLIeiy.js";import"./CUNtkZCQ.js";import"./iik6CYzq.js";const ee={slots:{root:"relative border-b border-default py-8",container:"",wrapper:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",headline:"mb-2.5 text-sm font-semibold text-primary flex items-center gap-1.5",title:"text-3xl sm:text-4xl text-pretty font-bold text-highlighted",description:"text-lg text-pretty text-muted",links:"flex flex-wrap items-center gap-1.5"},variants:{title:{true:{description:"mt-4"}}}},te={__name:"UPageHeader",props:{as:{type:null,required:!1},headline:{type:String,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(l){const t=l,i=z(),g=L(),r=V(()=>w({extend:w(ee),...g.ui?.pageHeader||{}})({title:!!t.title||!!i.title}));return(e,v)=>(a(),y(s(I),{as:l.as,class:d(r.value.root({class:[t.ui?.root,t.class]}))},{default:f(()=>[l.headline||i.headline?(a(),c("div",{key:0,class:d(r.value.headline({class:t.ui?.headline}))},[h(e.$slots,"headline",{},()=>[x(_(l.headline),1)])],2)):u("",!0),n("div",{class:d(r.value.container({class:t.ui?.container}))},[n("div",{class:d(r.value.wrapper({class:t.ui?.wrapper}))},[l.title||i.title?(a(),c("h1",{key:0,class:d(r.value.title({class:t.ui?.title}))},[h(e.$slots,"title",{},()=>[x(_(l.title),1)])],2)):u("",!0),l.links?.length||i.links?(a(),c("div",{key:1,class:d(r.value.links({class:t.ui?.links}))},[h(e.$slots,"links",{},()=>[(a(!0),c(S,null,q(l.links,(k,o)=>(a(),y(F,H({key:o,color:"neutral",variant:"outline"},{ref_for:!0},k),null,16))),128))])],2)):u("",!0)],2),l.description||i.description?(a(),c("div",{key:0,class:d(r.value.description({class:t.ui?.description}))},[h(e.$slots,"description",{},()=>[x(_(l.description),1)])],2)):u("",!0),h(e.$slots,"default")],2)]),_:3},8,["as","class"]))}},se={class:"text-sm text-muted"},ae=["src","alt"],le={key:1,class:"mt-12"},ie={class:"grid grid-cols-1 gap-4"},re={class:"flex items-center justify-between"},ne={class:"text-xs text-muted"},oe={class:"mt-12 pt-8 border-t border-default"},_e=M({__name:"[...slug]",async setup(l){let t,i;const g=Q(),r=g.path.split("/").pop(),{data:e}=([t,i]=$(()=>C(g.path,()=>P("researchProjects").path(g.path).first(),"$2mREF0U9O1")),t=await t,i(),t),{data:v}=([t,i]=$(()=>C(`articles-${r}`,()=>P("researchArticles").where("project","=",r).order("date","DESC").all())),t=await t,i(),t);if(!e.value)throw T({statusCode:404,statusMessage:"Research project not found",fatal:!0});return J({title:e.value?.seo?.title||e.value?.title,ogTitle:e.value?.seo?.title||e.value?.title,description:e.value?.seo?.description||e.value?.description,ogDescription:e.value?.seo?.description||e.value?.description,ogImage:e.value?.image}),(k,o)=>{const b=O,U=te,B=X,j=Y,D=W,N=G,A=Z,E=K;return s(e)?(a(),y(E,{key:0},{default:f(()=>[m(U,{title:s(e).title,description:s(e).description},{headline:f(()=>[m(b,{label:s(e).status,color:s(e).status==="Completed"?"success":"primary",variant:"soft"},null,8,["label","color"]),o[0]||(o[0]=n("span",{class:"text-muted"},"â€¢",-1)),n("span",se,_(s(e).role)+" at "+_(s(e).institution),1)]),_:1},8,["title","description"]),m(A,null,{default:f(()=>[s(e).image?(a(),c("img",{key:0,src:s(e).image,alt:s(e).title,class:"w-full h-64 object-cover rounded-lg mb-8"},null,8,ae)):u("",!0),m(B,{value:s(e),class:"prose prose-primary max-w-none"},null,8,["value"]),s(v)&&s(v).length>0?(a(),c("div",le,[o[1]||(o[1]=n("h2",{class:"text-2xl font-bold mb-6 text-primary"},"Publications & Presentations",-1)),n("div",ie,[(a(!0),c(S,null,q(s(v),(p,R)=>(a(),y(j,{key:R,title:p.title,description:p.description,to:p.url,target:"_blank",spotlight:!0},{header:f(()=>[n("div",re,[p.type?(a(),y(b,{key:0,label:p.type,color:"primary",variant:"soft",size:"xs"},null,8,["label"])):u("",!0),n("span",ne,_(new Date(p.date).toLocaleDateString("en-US",{year:"numeric",month:"long"})),1)])]),_:2},1032,["title","description","to"]))),128))])])):u("",!0),n("div",oe,[m(N,{to:"/research",class:"inline-flex items-center gap-2 text-primary hover:underline"},{default:f(()=>[m(D,{name:"i-heroicons-arrow-left",class:"size-4"}),o[2]||(o[2]=x(" Back to Research ",-1))]),_:1})])]),_:1})]),_:1})):u("",!0)}}});export{_e as default};
