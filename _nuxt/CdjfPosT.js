import{a9 as R,y as L,Q as V,af as w,B as g,d as a,w as f,c as d,e as c,g as r,n as u,C as x,aj as v,t as _,F as S,S as q,ak as F,D as H,E as s,P as M,z as O,q as Q,aJ as C,aK as T,aL as J,f as m,aQ as K,aI as G,bx as W,ax as X,aM as Y,aN as $,aO as P}from"#entry";import{_ as Z}from"./DKBoxYZb.js";import{_ as ee}from"./CjSEEMTx.js";import{_ as te}from"./D3X96rVk.js";import"./rTwGEkFU.js";import"./iik6CYzq.js";const se={slots:{root:"relative border-b border-default py-8",container:"",wrapper:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",headline:"mb-2.5 text-sm font-semibold text-primary flex items-center gap-1.5",title:"text-3xl sm:text-4xl text-pretty font-bold text-highlighted",description:"text-lg text-pretty text-muted",links:"flex flex-wrap items-center gap-1.5"},variants:{title:{true:{description:"mt-4"}}}},ae={__name:"UPageHeader",props:{as:{type:null,required:!1},headline:{type:String,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(l){const t=l,i=R(),y=L(),n=V(()=>w({extend:w(se),...y.ui?.pageHeader||{}})({title:!!t.title||!!i.title}));return(e,h)=>(a(),g(s(M),{as:l.as,class:u(n.value.root({class:[t.ui?.root,t.class]}))},{default:f(()=>[l.headline||i.headline?(a(),d("div",{key:0,class:u(n.value.headline({class:t.ui?.headline}))},[x(e.$slots,"headline",{},()=>[v(_(l.headline),1)])],2)):c("",!0),r("div",{class:u(n.value.container({class:t.ui?.container}))},[r("div",{class:u(n.value.wrapper({class:t.ui?.wrapper}))},[l.title||i.title?(a(),d("h1",{key:0,class:u(n.value.title({class:t.ui?.title}))},[x(e.$slots,"title",{},()=>[v(_(l.title),1)])],2)):c("",!0),l.links?.length||i.links?(a(),d("div",{key:1,class:u(n.value.links({class:t.ui?.links}))},[x(e.$slots,"links",{},()=>[(a(!0),d(S,null,q(l.links,(k,o)=>(a(),g(F,H({key:o,color:"neutral",variant:"outline"},{ref_for:!0},k),null,16))),128))])],2)):c("",!0)],2),l.description||i.description?(a(),d("div",{key:0,class:u(n.value.description({class:t.ui?.description}))},[x(e.$slots,"description",{},()=>[v(_(l.description),1)])],2)):c("",!0),x(e.$slots,"default")],2)]),_:3},8,["as","class"]))}},le={class:"text-sm text-muted"},ie={key:1,class:"mt-12"},ne={class:"grid grid-cols-1 gap-4"},re={class:"flex items-center justify-between"},oe={class:"text-xs text-muted"},ce={class:"mt-12 pt-8 border-t border-default"},_e=O({__name:"[...slug]",async setup(l){let t,i;const y=Q(),n=y.path.split("/").pop(),{data:e}=([t,i]=C(()=>$(y.path,()=>P("researchProjects").path(y.path).first(),"$2mREF0U9O1")),t=await t,i(),t),{data:h}=([t,i]=C(()=>$(`articles-${n}`,()=>P("researchArticles").where("project","=",n).order("date","DESC").all())),t=await t,i(),t);if(!e.value)throw T({statusCode:404,statusMessage:"Research project not found",fatal:!0});return J({title:e.value?.seo?.title||e.value?.title,ogTitle:e.value?.seo?.title||e.value?.title,description:e.value?.seo?.description||e.value?.description,ogDescription:e.value?.seo?.description||e.value?.description,ogImage:e.value?.image}),(k,o)=>{const b=K,U=ae,B=G,j=Z,D=ee,N=X,z=W,A=te,E=Y;return s(e)?(a(),g(E,{key:0},{default:f(()=>[m(U,{title:s(e).title,description:s(e).description},{headline:f(()=>[m(b,{label:s(e).status,color:s(e).status==="Completed"?"success":"primary",variant:"soft"},null,8,["label","color"]),o[0]||(o[0]=r("span",{class:"text-muted"},"â€¢",-1)),r("span",le,_(s(e).role)+" at "+_(s(e).institution),1)]),_:1},8,["title","description"]),m(A,null,{default:f(()=>[s(e).image?(a(),g(B,{key:0,src:s(e).image,alt:s(e).title,class:"w-full h-64 object-cover rounded-lg mb-8",sizes:"100vw md:1200px",loading:"lazy"},null,8,["src","alt"])):c("",!0),m(j,{value:s(e),class:"prose prose-primary max-w-none"},null,8,["value"]),s(h)&&s(h).length>0?(a(),d("div",ie,[o[1]||(o[1]=r("h2",{class:"text-2xl font-bold mb-6 text-primary"},"Publications & Presentations",-1)),r("div",ne,[(a(!0),d(S,null,q(s(h),(p,I)=>(a(),g(D,{key:I,title:p.title,description:p.description,to:p.url,target:"_blank",spotlight:!0},{header:f(()=>[r("div",re,[p.type?(a(),g(b,{key:0,label:p.type,color:"primary",variant:"soft",size:"xs"},null,8,["label"])):c("",!0),r("span",oe,_(new Date(p.date).toLocaleDateString("en-US",{year:"numeric",month:"long"})),1)])]),_:2},1032,["title","description","to"]))),128))])])):c("",!0),r("div",ce,[m(z,{to:"/research",class:"inline-flex items-center gap-2 text-primary hover:underline"},{default:f(()=>[m(N,{name:"i-heroicons-arrow-left",class:"size-4"}),o[2]||(o[2]=v(" Back to Research ",-1))]),_:1})])]),_:1})]),_:1})):c("",!0)}}});export{_e as default};
